{"version":3,"sources":["webpack:///./templates/single-movie-template.hbs","webpack:///./js/apiService.js","webpack:///./js/refs.js","webpack:///./js/markup.js","webpack:///./js/objToLocalStor.js","webpack:///./js/localStorage.js","webpack:///./js/details.js","webpack:///./js/startPageRander.js","webpack:///./js/library.js","webpack:///./js/search.js","webpack:///./js/home.js","webpack:///./templates/cardsList.hbs","webpack:///./templates/library_page.hbs","webpack:///./templates/error.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","API_KEY","page","searchText","updatePage","this","downgradePage","resetPage","getPopularMovies","fetch","response","json","results","map","item","imageURL","poster_path","title","vote","vote_average","release_date","split","id","getMovie","genres","name","toLowerCase","join","originalTitle","original_title","overview","votes","vote_count","popularity","getWatchedMovie","getSearchedMovie","query","main","document","querySelector","searchForm","searchInput","mainContent","pagination","paginationBtnPrev","paginationBtnNext","paginationValue","homeRef","libraryRef","watched","watchLater","insertItems","items","markup","refs","insertAdjacentHTML","clear","innerHTML","hideItem","classList","add","showHiddenItem","remove","randerByQuery","apiService","then","searchListTemplate","obj","addItem","elem","currentKey","checkedKey","addEventListener","e","currentTarget","target","event","key","LocalStorIdsdArr","JSON","parse","localStorage","getItem","movieId","dataset","movieData","some","setItem","stringify","concat","setLocalStorageIdsOnClick","check","checkedArray","itm","array","filter","includes","rewrightLocalStorage","showDetails","stopPropagation","parentElement","movieDetails","normalizedObj","btnWatchLater","localStor","finally","preventDefault","value","parseList","cardList","parseFromLocalStor","parsedIds","insertArr","movie","push","libPageTemplate","keyCode","length","window","scrollTo","stack1","program","noop"],"mappings":"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","file":"main.8b6eddaa951bd28442b9.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img class=\\\"poster\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"imageURL\") || (depth0 != null ? lookupProperty(depth0,\"imageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"imageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":25},\"end\":{\"line\":1,\"column\":37}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":44},\"end\":{\"line\":1,\"column\":62}}}) : helper)))\n    + \"\\\">\\r\\n<section class=\\\"main_info\\\">\\r\\n    <h2 class=\\\"title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":22},\"end\":{\"line\":3,\"column\":31}}}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":32},\"end\":{\"line\":3,\"column\":48}}}) : helper)))\n    + \"</h2>\\r\\n    <table class=\\\"info\\\">\\r\\n        <tr class=\\\"info-votes\\\">\\r\\n            <td class=\\\"col1\\\">vote/votes</td>\\r\\n            <td class=\\\"info-votes_value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote\") || (depth0 != null ? lookupProperty(depth0,\"vote\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":41},\"end\":{\"line\":7,\"column\":49}}}) : helper)))\n    + \"/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"votes\") || (depth0 != null ? lookupProperty(depth0,\"votes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"votes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":50},\"end\":{\"line\":7,\"column\":59}}}) : helper)))\n    + \"</td>\\r\\n        </tr>\\r\\n        <tr class=\\\"info-popularity\\\">\\r\\n            <td class=\\\"col1\\\">popularity</td>\\r\\n            <td class=\\\"info-popularity_value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":46},\"end\":{\"line\":11,\"column\":60}}}) : helper)))\n    + \"</td>\\r\\n        </tr>\\r\\n        <tr class=\\\"info-name\\\">\\r\\n            <td class=\\\"col1\\\">original title</td>\\r\\n            <td class=\\\"info-name_value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":40},\"end\":{\"line\":15,\"column\":49}}}) : helper)))\n    + \"</td>\\r\\n        </tr>\\r\\n        <tr class=\\\"info-genre\\\">\\r\\n            <td class=\\\"col1\\\" valign=\\\"top\\\">genre</td>\\r\\n            <td class=\\\"info-genre_value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":41},\"end\":{\"line\":19,\"column\":51}}}) : helper)))\n    + \"</td>\\r\\n        </tr>\\r\\n    </table>\\r\\n    <h2 class=\\\"about\\\">About</h2>\\r\\n    <p class=\\\"description\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":27},\"end\":{\"line\":23,\"column\":39}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"watching_buttons\\\">\\r\\n        <button class=\\\"button button_watched\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":55},\"end\":{\"line\":25,\"column\":61}}}) : helper)))\n    + \"\\\">Watched</button>\\r\\n        <button class=\\\"button button_later\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":53},\"end\":{\"line\":26,\"column\":59}}}) : helper)))\n    + \"\\\">Watch later</button>\\r\\n    </div>\\r\\n\\r\\n</section>\";\n},\"useData\":true});","export default {\r\n  API_KEY: '168af0fe4d819af69af0e65f181d8d99',\r\n  page: 1,\r\n  searchText: '',\r\n  updatePage() {\r\n    this.page += 1;\r\n  },\r\n  downgradePage() {\r\n    if (!this.page) return;\r\n    this.page -= 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n\r\n  async getPopularMovies() {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/popular?api_key=${this.API_KEY}&language=en-US&page=${this.page}&region=UA`,\r\n    );\r\n    const data = await response.json();\r\n    return data.results.map(item => ({\r\n      imageURL:\r\n        item.poster_path === null\r\n          ? 'https://consaltliga.com.ua/wp-content/themes/consultix/images/no-image-found-360x250.png'\r\n          : `https://image.tmdb.org/t/p/w500${item.poster_path}`,\r\n      title: item.title,\r\n      vote: item.vote_average,\r\n      release_date: item.release_date\r\n        ? `(${item.release_date.split('-')[0]})`\r\n        : '',\r\n      id: item.id,\r\n    }));\r\n  },\r\n\r\n  async getMovie(id) {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${this.API_KEY}&language=en-US`,\r\n    );\r\n    const data = await response.json();\r\n    return {\r\n      imageURL:\r\n        data.poster_path === null\r\n          ? 'https://consaltliga.com.ua/wp-content/themes/consultix/images/no-image-found-360x250.png'\r\n          : `https://image.tmdb.org/t/p/w500${data.poster_path}`,\r\n      genres: data.genres\r\n        .map(item => {\r\n          return item.name.toLowerCase();\r\n        })\r\n        .join(', '),\r\n      title: data.title,\r\n      originalTitle: data.original_title,\r\n      overview: data.overview,\r\n      vote: data.vote_average,\r\n      votes: data.vote_count,\r\n      release_date: data.release_date\r\n        ? `(${data.release_date.split('-')[0]})`\r\n        : '',\r\n      popularity: data.popularity,\r\n      id: data.id,\r\n    };\r\n  },\r\n\r\n  async getWatchedMovie(id) {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${this.API_KEY}&language=en-US`,\r\n    );\r\n    const data = await response.json();\r\n    return {\r\n      imageURL:\r\n        data.poster_path === null\r\n          ? 'https://consaltliga.com.ua/wp-content/themes/consultix/images/no-image-found-360x250.png'\r\n          : `https://image.tmdb.org/t/p/w500${data.poster_path}`,\r\n      title: data.title,\r\n      vote: data.vote_average,\r\n    };\r\n  },\r\n\r\n  async getSearchedMovie(query) {\r\n    if (!query) {\r\n      return this.getPopularMovies();\r\n    }\r\n\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${\r\n        this.API_KEY\r\n      }&language=en-US&query=${query.split(' ').join('+')}&page=${\r\n        this.page\r\n      }&region=UA`,\r\n    );\r\n    const data = await response.json();\r\n    return data.results.map(item => ({\r\n      imageURL:\r\n        item.poster_path === null\r\n          ? 'https://consaltliga.com.ua/wp-content/themes/consultix/images/no-image-found-360x250.png'\r\n          : `https://image.tmdb.org/t/p/w500${item.poster_path}`,\r\n      original_title: item.original_title,\r\n      title: item.title,\r\n      release_date: item.release_date\r\n        ? `(${item.release_date.split('-')[0]})`\r\n        : '',\r\n      vote: item.vote_average,\r\n      id: item.id,\r\n    }));\r\n  },\r\n};\r\n","export default {\r\n  main: document.querySelector('a[href=\"main\"]'),\r\n  searchForm: document.querySelector('#search-form'),\r\n  searchInput: document.querySelector('#search-form_input'),\r\n  mainContent: document.querySelector('.main_content'),\r\n  pagination: document.querySelector('.pagination'),\r\n  paginationBtnPrev: document.querySelector('#pagination_btn-prev'),\r\n  paginationBtnNext: document.querySelector('#pagination_btn-next'),\r\n  paginationValue: document.querySelector('#pagination_value'),\r\n  homeRef: document.querySelector('a[href=\"home\"]'),\r\n  libraryRef: document.querySelector('a[href=\"my-library\"]'),\r\n  watched: document.querySelector('.button_watched'),\r\n  watchLater: document.querySelector('.button_later'),\r\n};\r\n","import apiService from './apiService';\r\nimport refs from './refs';\r\nimport searchListTemplate from '../templates/cardsList.hbs';\r\n\r\nfunction insertItems(items, template) {\r\n  const markup = template(items);\r\n  refs.mainContent.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction clear(container) {\r\n  container.innerHTML = '';\r\n}\r\n\r\nfunction hideItem(item) {\r\n  item.classList.add('hidden');\r\n}\r\n\r\nfunction showHiddenItem(item) {\r\n  item.classList.remove('hidden');\r\n}\r\n\r\nfunction randerByQuery(query) {\r\n  return apiService.getSearchedMovie(query).then(data => {\r\n    clear(refs.mainContent);\r\n    insertItems(data, searchListTemplate);\r\n    return data;\r\n  });\r\n}\r\n\r\nexport { insertItems, clear, hideItem, showHiddenItem, randerByQuery };\r\n","export default function(data) {\r\n  obj.imageURL = data.imageURL;\r\n  obj.title = data.title;\r\n  obj.id = data.id;\r\n  obj.vote = data.vote;\r\n  obj.release_date = data.release_date;\r\n}\r\n\r\nexport let obj = {};\r\n","import * as data from './objToLocalStor';\r\n\r\nfunction addItem(elem, currentKey, checkedKey) {\r\n  elem.addEventListener('click', e => {\r\n    if (e.currentTarget !== e.target) return;\r\n    setLocalStorageIdsOnClick(e, currentKey);\r\n\r\n    if (!checkedKey) return;\r\n    rewrightLocalStorage(currentKey, checkedKey);\r\n  });\r\n}\r\n\r\nfunction setLocalStorageIdsOnClick(event, key) {\r\n  const LocalStorIdsdArr = JSON.parse(localStorage.getItem(key));\r\n  const movieId = event.target.dataset.id;\r\n  const movieData = {\r\n    id: movieId,\r\n    data: data.obj,\r\n  };\r\n  try {\r\n    if (!LocalStorIdsdArr.some(item => item.id === movieId))\r\n      localStorage.setItem(\r\n        key,\r\n        JSON.stringify(LocalStorIdsdArr.concat(movieData)),\r\n      );\r\n  } catch {\r\n    localStorage.setItem(key, JSON.stringify([movieData]));\r\n  }\r\n}\r\n\r\nfunction rewrightLocalStorage(check, clear) {\r\n  const checkedArray = JSON.parse(localStorage.getItem(check)).map(\r\n    itm => itm.id,\r\n  );\r\n  const clearedArray = JSON.parse(localStorage.getItem(clear));\r\n\r\n  if (!clearedArray) return;\r\n  const array = JSON.parse(localStorage.getItem(clear)).filter(\r\n    item => !checkedArray.includes(item.id),\r\n  );\r\n  localStorage.setItem(clear, JSON.stringify(array));\r\n}\r\n\r\nexport { addItem };\r\n","import apiService from './apiService';\r\nimport refs from './refs';\r\nimport movieDetails from '../templates/single-movie-template.hbs';\r\nimport { insertItems, clear, hideItem } from './markup';\r\nimport * as localStor from './localStorage';\r\nimport normalizedObj from './objToLocalStor';\r\n\r\nfunction showDetails() {\r\n  refs.mainContent.addEventListener('click', event => {\r\n    event.stopPropagation();\r\n    const movieId = event.target.parentElement.dataset.id;\r\n    if (!movieId) return;\r\n\r\n    apiService\r\n      .getMovie(movieId)\r\n      .then(data => {\r\n        clear(refs.mainContent);\r\n        hideItem(refs.searchForm);\r\n        hideItem(refs.pagination);\r\n        insertItems(data, movieDetails);\r\n        return data;\r\n      })\r\n      .then(data => {\r\n        normalizedObj(data);\r\n        const btnWatchLater = document.querySelector('.button_later');\r\n        const btnWatched = document.querySelector('.button_watched');\r\n        localStor.addItem(btnWatched, 'watchedIds', 'watchLaterIds');\r\n        localStor.addItem(btnWatchLater, 'watchLaterIds', 'watchedIds');\r\n      });\r\n  });\r\n}\r\n\r\nexport { showDetails };\r\n","import apiService from './apiService';\r\nimport refs from './refs';\r\nimport searchListTemplate from '../templates/cardsList.hbs';\r\nimport { insertItems, clear, randerByQuery, showHiddenItem } from './markup';\r\nimport { showDetails } from './details';\r\n\r\n(function(query) {\r\n  apiService\r\n    .getSearchedMovie(query)\r\n    .then(data => {\r\n      clear(refs.mainContent);\r\n      refs.paginationValue.innerHTML = apiService.page;\r\n      insertItems(data, searchListTemplate);\r\n    })\r\n    .finally(showDetails());\r\n})();\r\n\r\nrefs.main.addEventListener('click', e => {\r\n  e.preventDefault();\r\n  refs.searchInput.value = '';\r\n  apiService.searchText = '';\r\n  randerByQuery('');\r\n  showHiddenItem(refs.searchForm);\r\n  showHiddenItem(refs.pagination);\r\n});\r\n","import refs from './refs';\r\nimport searchListTemplate from '../templates/cardsList.hbs';\r\nimport libPageTemplate from '../templates/library_page.hbs';\r\nimport { insertItems, clear, hideItem } from './markup';\r\nimport errorTemplate from '../templates/error.hbs';\r\n\r\nrefs.libraryRef.addEventListener('click', e => {\r\n  e.preventDefault();\r\n  clear(refs.mainContent);\r\n  hideItem(refs.searchForm);\r\n  hideItem(refs.pagination);\r\n\r\n  insertItems('', libPageTemplate);\r\n\r\n  addLibraryListener();\r\n  try {\r\n    if (!parseFromLocalStor('watchedIds')) {\r\n      refs.watched.classList.remove('button--is_active');\r\n      refs.watchLater.classList.add('button--is_active');\r\n      parseFromLocalStor('watchLaterIds');\r\n    }\r\n  } catch {}\r\n});\r\n\r\nfunction addLibraryListener() {\r\n  refs.watched = document.querySelector('.button_watched');\r\n  refs.watchLater = document.querySelector('.button_later');\r\n\r\n  refs.watched.addEventListener('click', e => {\r\n    e.preventDefault();\r\n    parseList('watchedIds');\r\n  });\r\n\r\n  refs.watchLater.addEventListener('click', e => {\r\n    e.preventDefault();\r\n    parseList('watchLaterIds');\r\n  });\r\n}\r\n\r\nfunction parseList(query) {\r\n  if (query === 'watchedIds') {\r\n    refs.watchLater.classList.remove('button--is_active');\r\n    refs.watched.classList.add('button--is_active');\r\n  } else {\r\n    refs.watched.classList.remove('button--is_active');\r\n    refs.watchLater.classList.add('button--is_active');\r\n  }\r\n\r\n  const cardList = document.querySelector('.cards');\r\n  if (!!cardList) cardList.remove();\r\n\r\n  parseFromLocalStor(query);\r\n}\r\n\r\nfunction parseFromLocalStor(query) {\r\n  const parsedIds = JSON.parse(localStorage.getItem(query));\r\n  let insertArr = [];\r\n  if (!parsedIds) return false;\r\n  for (const movie of parsedIds) {\r\n    insertArr.push(movie.data);\r\n  }\r\n\r\n  insertItems(insertArr, searchListTemplate);\r\n  return true;\r\n}\r\n","import apiService from './apiService';\r\nimport refs from './refs';\r\nimport { showHiddenItem, randerByQuery, insertItems, clear } from './markup';\r\nimport searchListTemplate from '../templates/cardsList.hbs';\r\n\r\nrefs.searchInput.addEventListener('keypress', event => {\r\n  apiService.searchText = refs.searchInput.value;\r\n\r\n  if (event.keyCode === 13) {\r\n    event.preventDefault();\r\n    apiService.resetPage();\r\n    showHiddenItem(refs.pagination);\r\n    randerByQuery(apiService.searchText);\r\n    refs.paginationValue.innerHTML = apiService.page;\r\n  }\r\n});\r\n\r\nrefs.paginationBtnNext.addEventListener('click', () => {\r\n  apiService\r\n    .getSearchedMovie(apiService.searchText)\r\n    .then(data => {\r\n      if (data.length === 20) apiService.updatePage();\r\n    })\r\n    .then(() => apiService.getSearchedMovie(apiService.searchText))\r\n    .then(data => {\r\n      refs.paginationValue.innerHTML = apiService.page;\r\n      clear(refs.mainContent);\r\n      insertItems(data, searchListTemplate);\r\n      window.scrollTo(0, 0);\r\n    });\r\n});\r\n\r\nrefs.paginationBtnPrev.addEventListener('click', () => {\r\n  apiService\r\n    .getSearchedMovie(apiService.searchText)\r\n    .then(() => {\r\n      if (apiService.page === 1) return;\r\n      apiService.downgradePage();\r\n    })\r\n    .then(() => apiService.getSearchedMovie(apiService.searchText))\r\n    .then(data => {\r\n      refs.paginationValue.innerHTML = apiService.page;\r\n      clear(refs.mainContent);\r\n      insertItems(data, searchListTemplate);\r\n      window.scrollTo(0, 0);\r\n    });\r\n});\r\n","import apiService from './apiService';\r\nimport refs from './refs';\r\nimport { showHiddenItem, randerByQuery } from './markup';\r\n\r\nrefs.homeRef.addEventListener('click', e => {\r\n  e.preventDefault();\r\n  e.preventDefault();\r\n  randerByQuery(apiService.searchText);\r\n  showHiddenItem(refs.searchForm);\r\n  showHiddenItem(refs.pagination);\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"cards-item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":42}}}) : helper)))\n    + \"\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"imageURL\") || (depth0 != null ? lookupProperty(depth0,\"imageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"imageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":37},\"end\":{\"line\":4,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n        <p class=\\\"film_name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":29},\"end\":{\"line\":5,\"column\":38}}}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":39},\"end\":{\"line\":5,\"column\":55}}}) : helper)))\n    + \"</p>\\r\\n        <p class=\\\"film_rate js_film_rate\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote\") || (depth0 != null ? lookupProperty(depth0,\"vote\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":42},\"end\":{\"line\":6,\"column\":50}}}) : helper)))\n    + \"</p>\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"cards container\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"library-page_buttons container\\\">\\r\\n    <button class=\\\"button_watched button--is_active\\\">\\r\\n        Watched\\r\\n    </button>\\r\\n\\r\\n    <button class=\\\"button_later\\\">\\r\\n        Watch later\\r\\n    </button>\\r\\n\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2>ERROR:</h2>\\r\\n<p>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"text\") || (depth0 != null ? lookupProperty(depth0,\"text\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"text\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":3},\"end\":{\"line\":2,\"column\":11}}}) : helper)))\n    + \"</p>\";\n},\"useData\":true});"],"sourceRoot":""}